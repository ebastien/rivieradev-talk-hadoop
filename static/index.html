<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <title>Introduction Ã  Hadoop</title>

  <meta name="viewport" content="width=device-width"/>

  <link rel="stylesheet" href="./css/reset.css" type="text/css"/>
  <link rel="stylesheet" href="./css/showoff.css" type="text/css"/>

  <script type="text/javascript" src="./js/jquery-1.4.2.min.js"></script>
  <script type="text/javascript" src="./js/jquery.cycle.all.js"></script>
	<script type="text/javascript" src="./js/jquery-print.js"></script>
  <script type="text/javascript" src="./js/jquery.batchImageLoad.js"></script>

  <script type="text/javascript" src="./js/jquery.doubletap-0.1.js"></script>

  <script type="text/javascript" src="./js/fg.menu.js"></script>
  <script type="text/javascript" src="./js/showoff.js"></script>
  <script type="text/javascript" src="./js/jTypeWriter.js"> </script>
  <script type="text/javascript" src="./js/sh_main.min.js"></script>
  <script type="text/javascript" src="./js/core.js"></script>
  <script type="text/javascript" src="./js/showoffcore.js"></script>
  <script type="text/javascript" src="./js/coffee-script.js"></script>

  <link type="text/css" href="./css/fg.menu.css" media="screen" rel="stylesheet" />
  <link type="text/css" href="./css/theme/ui.all.css" media="screen" rel="stylesheet" />
  <link type="text/css" href="./css/sh_style.css" rel="stylesheet" >

  
    <link rel="stylesheet" href="file/default.css" type="text/css"/>
  

  

  <script type="text/javascript">
  $(function(){
      setupPreso(false, './');
  });
  </script>

</head>

<body>

<a tabindex="0" href="#search-engines" class="fg-button fg-button-icon-right ui-widget ui-state-default ui-corner-all" id="navmenu"><span class="ui-icon ui-icon-triangle-1-s"></span>slides</a>
<div id="navigation" class="hidden"></div>

<div id="help">
  <table>
    <tr><td class="key">z, ?</td><td>toggle help (this)</td></tr>
    <tr><td class="key">space, &rarr;</td><td>next slide</td></tr>
    <tr><td class="key">shift-space, &larr;</td><td>previous slide</td></tr>
    <tr><td class="key">d</td><td>toggle debug mode</td></tr>
    <tr><td class="key">## &lt;ret&gt;</td><td>go to slide #</td></tr>
    <tr><td class="key">c, t</td><td>table of contents (vi)</td></tr>
    <tr><td class="key">f</td><td>toggle footer</td></tr>
    <tr><td class="key">r</td><td>reload slides</td></tr>
    <tr><td class="key">n</td><td>toggle notes</td></tr>
    <tr><td class="key">p</td><td>run preshow</td></tr>
  </table>
</div>

<div class="buttonNav">
  <input type="submit" onClick="prevStep();" value="prev"/>
  <input type="submit" onClick="nextStep();" value="next"/>
</div>

<div id="preso">loading presentation...</div>
<div id="footer">
  <span id="slideInfo"></span>
  <span id="debugInfo"></span>
  <span id="notesInfo"></span>
</div>

<div id="slides" class="offscreen" style="display:none;">
<div class="slide" data-transition="none"><div class="content" ref="one/01_slide/1">
<h1>Hadoop</h1>

<h2>Les principes et l'&#xE9;cosyst&#xE8;me</h2>

<div class="title_desc">
  <ul>
    <li>Emmanuel Bastien</li>
    <li>Octobre 2011</li>
    <li>RivieraDev</li>
  </ul>
</div>



</div>
</div><div class="slide" data-transition="none"><div class="content" ref="one/01_slide/2">
<h2>Qui parle ?</h2>

<ul>
<li>Emmanuel Bastien (@ebastien)</li>
<li>Programmeur polyglotte</li>
<li>Technophile</li>
<li>Partisan du logiciel libre</li>
<li>Ing&#xE9;nieur &#xE0; Amadeus</li>
</ul>

</div>
</div><div class="slide" data-transition="none"><div class="content" ref="one/01_slide/3">
<h2>D'apr&#xE8;s Wikipedia :</h2>

<p><em>Hadoop est un <strong>framework Java libre</strong> destin&#xE9; aux applications distribu&#xE9;es et &#xE0; la <strong>gestion intensive des donn&#xE9;es</strong>.
Il permet aux applications de travailler avec des milliers de n&#x153;uds et des <strong>p&#xE9;taoctets de donn&#xE9;es</strong>.
Hadoop a &#xE9;t&#xE9; inspir&#xE9; par les publications MapReduce, GoogleFS et BigTable de Google.</em></p>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="one/01_slide/4">
<h2>Quel est le probl&#xE8;me ?</h2>
</div>
</div><div class="slide" data-transition="none"><div class="content center" ref="one/01_slide/5">
<p><img src="./file/one/problem1.png"/></p>
</div>
</div><div class="slide" data-transition="none"><div class="content center" ref="one/01_slide/6">
<p><img src="./file/one/problem2.png"/></p>
</div>
</div><div class="slide" data-transition="none"><div class="content center" ref="one/01_slide/7">
<p><img src="./file/one/problem3.png"/></p>
</div>
</div><div class="slide" data-transition="none"><div class="content center" ref="one/01_slide/8">
<p><img src="./file/one/problem4.png"/></p>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="one/01_slide/9">
<div class="unreadable">
<p>[...]</p>
<p>The Earth Pulled by the Moon</p>
<p>But it was part of the merit of Newton's mighty theory of gravitation
that it furnished an explanation even of this age-old mystery. We can
see, in broad outlines at any rate, that the theory of universal
attraction can be applied to this case. For the moon, Newton taught us,
pulls every particle of matter throughout the earth. If we imagine that
part of the earth's surface which comprises the Pacific Ocean, for
instance, to be turned towards the moon, we see that the moon's pull,
_acting on the loose and mobile water_, would tend to heap it up into a
sort of mound. The whole earth is pulled by the moon, but the water
is more free to obey this pull than is the solid earth, although small
tides are also caused in the earth's solid crust. It can be shown also
that a corresponding hump would tend to be produced on the other side of
the earth, owing, in this case, to the tendency of the water, being more
loosely connected, to lag behind the solid earth. If the earth's surface
were entirely fluid the rotation of the earth would give the impression
that these two humps were continually travelling round the world, once
every day. At any given part of the earth's surface, therefore, there
would be two humps daily, i.e. two periods of high water. Such is the
simplest possible outline of the gravitational theory of the tides.</p>
<p>[...]</p>
</div>


<div class="title_desc">
  <ul><li>The Outline of Science</li></ul>
</div>



</div>
</div><div class="slide" data-transition="none"><div class="content" ref="one/01_slide/10">
<h2>Bons vieux outils...</h2>

<pre class="sh_sh"><code>                   cat book.txt | \
tr -s "[:punct:][:space:]" "\n" | \
                           sort | \
                        uniq &#x2013;c | \
                            cat &gt; wordcounts</code></pre>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="one/01_slide/11">
<h2>MapReduce !</h2>

<pre class="sh_sh"><code>                   cat book.txt | \
                         MAPPER | \
                           sort | \
                        REDUCER | \
                            cat &gt; wordcounts</code></pre>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="one/01_slide/12">
<h2>T&#xE2;che "Map"</h2>

<p>Entr&#xE9;e: une partie des donn&#xE9;es</p>

<p>Sortie: une collection de paires cl&#xE9;-valeur</p>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="one/01_slide/13">
<h2>T&#xE2;che "Reduce"</h2>

<p>Entr&#xE9;e: toutes les valeurs pour une cl&#xE9;</p>

<p>Sortie: r&#xE9;sultat final</p>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="one/01_slide/14">
<h2>Hadoop Distributed File System</h2>
</div>
</div><div class="slide" data-transition="none"><div class="content center" ref="one/01_slide/15">
<p><img src="./file/one/layout1.png"/></p>
</div>
</div><div class="slide" data-transition="none"><div class="content center" ref="one/01_slide/16">
<p><img src="./file/one/layout2.png"/></p>
</div>
</div><div class="slide" data-transition="none"><div class="content center" ref="one/01_slide/17">
<p><img src="./file/one/flow1.png"/></p>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="one/01_slide/18">
<h2>Interfaces de programmation MapReduce</h2>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="one/01_slide/19">
<h2>API Java</h2>

<ul>
<li>Une classe impl&#xE9;mentant l'interface "Mapper"</li>
<li>Une classe impl&#xE9;mentant l'interface "Reducer"</li>
<li>La d&#xE9;finition des entr&#xE9;es et des sorties</li>
<li>Le code compil&#xE9; dans un JAR</li>
</ul>

</div>
</div><div class="slide" data-transition="none"><div class="content" ref="one/01_slide/20">
<h2>&#xAB;Word Count&#xBB;, classe Map :</h2>

<pre class="sh_java"><code>public void map(
    LongWritable key, Text value,
    OutputCollector&lt;Text, IntWritable&gt; output,
    Reporter reporter) throws IOException {

  String line = value.toString();
  StringTokenizer tokenizer = new StringTokenizer(line);
  Text word = new Text();
  IntWritable one = new IntWritable(1);

  while (tokenizer.hasMoreTokens()) {
    word.set(tokenizer.nextToken());
    output.collect(word, one);
  }
}</code></pre>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="one/01_slide/21">
<h2>&#xAB;Word Count&#xBB;, classe Reduce :</h2>

<pre class="sh_java"><code>public void reduce(
    Text key,
    Iterator&lt;IntWritable&gt; values,
    OutputCollector&lt;Text, IntWritable&gt; output,
    Reporter reporter) throws IOException {

  int sum = 0;
  while (values.hasNext()) {
    sum += values.next().get();
  }
  output.collect(key, new IntWritable(sum));
}</code></pre>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="one/01_slide/22">
<h2>Hadoop Streaming</h2>

<ul>
<li>Un ex&#xE9;cutable pour la t&#xE2;che Map</li>
<li>Un ex&#xE9;cutable pour la t&#xE2;che Reduce</li>
<li>La d&#xE9;finition des entr&#xE9;es et des sorties</li>
</ul>

</div>
</div><div class="slide" data-transition="none"><div class="content" ref="one/01_slide/23">
<h2>&#xAB;Word Count&#xBB;, t&#xE2;che Map :</h2>

<pre class="sh_ruby"><code>#!/usr/bin/env ruby
STDIN.each do |line|
  line.scan(/\w+/) do |word|
    STDOUT.puts "#{word}\t1"
  end
end</code></pre>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="one/01_slide/24">
<h2>&#xAB;Word Count&#xBB;, t&#xE2;che Reduce :</h2>

<pre class="sh_ruby"><code>#!/usr/bin/env ruby
key, sum = nil, 0
STDIN.each do |row|
  k, v = row.split "\t"
  if key != k
    STDOUT.puts "#{key}\t#{sum}" if key
    key, sum = k, 0
  end
  sum += v.to_i
end
STDOUT.puts "#{key}\t#{sum}" if key</code></pre>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="one/01_slide/25">
<h2>&#xC7;a peut devenir compliqu&#xE9;...</h2>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="one/01_slide/26">
<h2>Apache Hive</h2>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="one/01_slide/27">
<h2>&#xAB;Word Count&#xBB; partiel, Hive :</h2>

<pre class="sh_sql"><code>CREATE EXTERNAL TABLE Text(word STRING)
  LOCATION "/samples/words";
FROM Text
  INSERT OVERWRITE DIRECTORY "/tmp/wordcounts"
  SELECT word, COUNT(word) as totals
  GROUP BY word;</code></pre>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="one/01_slide/28">
<h2>Apache Pig</h2>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="one/01_slide/29">
<h2>&#xAB;Word Count&#xBB;, Pig :</h2>

<pre class="sh_sh"><code>lines = LOAD '/samples/book.txt' USING TextLoader();
words = FOREACH lines GENERATE FLATTEN(TOKENIZE($0));
grouped = GROUP words BY $0;
counts = FOREACH grouped GENERATE group, COUNT(words);
STORE counts INTO '/tmp/wordcounts' USING PigStorage();</code></pre>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="one/01_slide/30">
<h2>Cascading</h2>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="one/01_slide/31">
<h2>&#xAB;Word Count&#xBB;, Cascading/JRuby</h2>

<pre class="sh_ruby"><code>cascade 'wordcount' do
  flow 'wordcount' do
    source 'input', tap('/samples/book.txt')
    assembly 'input' do
      each 'line', :function =&gt; regex_split_generator(
        'word',
        :pattern =&gt; /[.,]*\s+/
      )
      group_by 'word' { count }
      group_by 'count', :reverse =&gt; true
    end
    sink 'input', tap('/tmp/wordcounts')
  end
end.complete(myproperties)</code></pre>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="one/01_slide/32">
<h2>Hadoop au-del&#xE0; d'HDFS</h2>

<ul>
<li>Amazon S3</li>
<li>FTP et HTTP</li>
<li>CloudStore</li>
</ul>

</div>
</div><div class="slide" data-transition="none"><div class="content" ref="one/01_slide/33">
<h2>Hadoop dans les nuages</h2>

<ul>
<li>Amazon Elastic MapReduce</li>
<li>Microsoft Windows Azure (bient&#xF4;t)</li>
</ul>

</div>
</div><div class="slide" data-transition="none"><div class="content" ref="one/01_slide/34">
<h2>Evaluer Hadoop chez soi</h2>

<ul>
<li>Machine virtuelle Cloudera pour VirtualBox et KVM</li>
<li><a href="http://www.cloudera.com/">http://www.cloudera.com/</a></li>
</ul>

</div>
</div><div class="slide" data-transition="none"><div class="content" ref="one/01_slide/35">
<h2>R&#xE9;f&#xE9;rences</h2>

<ul>
<li><a href="http://hadoop.apache.org">http://hadoop.apache.org</a></li>
<li><a href="http://hive.apache.org">http://hive.apache.org</a></li>
<li><a href="http://pig.apache.org">http://pig.apache.org</a></li>
<li><a href="http://github.com/mrwalker/cascading.jruby">http://github.com/mrwalker/cascading.jruby</a></li>
<li><a href="http://www.cloudera.com">http://www.cloudera.com</a></li>
<li><a href="http://aws.amazon.com/fr/elasticmapreduce">http://aws.amazon.com/fr/elasticmapreduce</a></li>
<li><a href="http://www.microsoft.com/windowsazure">http://www.microsoft.com/windowsazure</a></li>
</ul>

</div>
</div></div>

</body>
</html>
